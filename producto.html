<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Producto seleccionado</title>
</head>
<body>
    <section class="contenedor">
        <header>
            <!-- Carrusel de im치genes moderno -->
            <div class="carrusel">
                <div class="carrusel-imagenes" id="carrusel-imagenes">
                    <!-- Im치genes insertadas por JS -->
                </div>
                <button class="carrusel-btn prev">&#10094;</button>
                <button class="carrusel-btn next">&#10095;</button>
            </div>
        </header>
        <section class="seccionProductoSleccionado">  
            <h2 class="productoSeleccionado" id="producto-nombre"></h2>
            <span class="descripcionProductoSeleccionado" id="producto-descripcion"></span>
            <h2 class="precioProductoSeleccionado" id="producto-precio"></h2>
        </section>
        <section class="botonesProductos">
            <button class="consultaProductoWhatsapp">Consultar por WhatsApp</button>
            <button class="seguirViendo">Volver al cat치logo</button>
        </section>
    </section>
    <script src="script.js"></script>
    <script>
    // Cargar datos del producto seleccionado
    document.addEventListener('DOMContentLoaded', function () {
      const data = JSON.parse(localStorage.getItem('productoSeleccionado'));
      if (data) {
        document.getElementById('producto-nombre').textContent = data.nombre;
        document.getElementById('producto-descripcion').textContent = data.descripcion;
        document.getElementById('producto-precio').textContent = data.precio;
        // Cargar im치genes en el carrusel
        const carrusel = document.getElementById('carrusel-imagenes');
        carrusel.innerHTML = '';
        data.imagenes.forEach(src => {
          const img = document.createElement('img');
          img.src = src;
          img.alt = data.nombre;
          carrusel.appendChild(img);
        });
      }
    });
    </script>
    <script>
document.addEventListener('DOMContentLoaded', function () {
  const btnWhatsapp = document.querySelector('.consultaProductoWhatsapp');
  const numeroWhatsapp = '5492477316189'; // Cambia este n칰mero por el tuyo

  btnWhatsapp.addEventListener('click', function () {
    const data = JSON.parse(localStorage.getItem('productoSeleccionado'));
    if (!data) return;

    // Obtener la imagen activa del carrusel
    const carrusel = document.getElementById('carrusel-imagenes');
    const images = carrusel.querySelectorAll('img');
    let index = 0;
    // Buscar el 칤ndice actual del carrusel (por el transform)
    const transform = carrusel.style.transform;
    if (transform) {
      const match = transform.match(/-([0-9]+)%/);
      if (match) {
        index = parseInt(match[1], 10) / 100;
      }
    }

    // Construir la URL p칰blica de la imagen activa
    const baseUrl = 'https://edgardoom.github.io/catalogo/'; // Cambia por tu usuario y repo si es necesario
    const imagenActivaUrl = baseUrl + data.imagenes[index];

    // Mensaje en formato moderno
    let mensaje = `游 *Consulta de producto*\n\n`;
    mensaje += `*${data.nombre}*\n`;
    mensaje += `${data.descripcion}\n`;
    mensaje += `游 *Precio:* ${data.precio}\n`;
    if (imagenActivaUrl) {
      mensaje += `\n${imagenActivaUrl}`;
      console.log(`Imagen activa: ${imagenActivaUrl}`);
    }

    // Codificar mensaje para URL
    const url = `https://wa.me/${numeroWhatsapp}?text=${encodeURIComponent(mensaje)}`;
    window.open(url, '_blank');
  });
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const btnSeguirViendo = document.querySelector('.seguirViendo');
  if (btnSeguirViendo) {
    btnSeguirViendo.addEventListener('click', function () {
      window.location.href = 'index.html';
    });
  }
});
</script>
</body>
</html>